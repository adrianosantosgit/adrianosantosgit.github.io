<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.5">
    <title>RELATÓRIO DE CHAMADOS</title>
    <style type="text/css">
        body {
            padding: 10%;
            /* Other styling properties as needed */
        }
        form{
            display: grid;
        }
        input, textarea {
        width: 100%;
        }
        button{
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        }
        div{
            padding: 1.5em;
            text-align: center;
        }


    </style>
</head>
<body>

    <h2>Formulário automático de preenchimento de chamados</h2>

    <form id="myForm">
        <p><input type="text" id="local" placeholder="*LOCAL:*"></p>
        <p><input type="time" value="12:00" id="horarioChamado" placeholder="*HORÁRIO DO CHAMADO:*" minlength="5" maxlength="5" min="0000" max="2359" required></p>
        <p><input type="time" value="12:00" id="horarioInicio" placeholder="*HORÁRIO DO INÍCIO:*" minlength="5" maxlength="5" min="0000" max="2359" required></p>
        <p><input type="time" value="12:00" id="horarioTermino" placeholder="*HORÁRIO DO TÉRMINO:*" minlength="5" maxlength="5" min="0000" max="2359" required></p>
        <p><input type="text" id="fato" placeholder="*FATO:*"></p>
        <p><input type="text" id="causa" placeholder="*CAUSA:*"></p>
        <p><input type="text" id="acao" placeholder="*AÇÃO:*"></p>
        <p><input type="text" id="obs" placeholder="*OBS:*"></p>
    </form>

    <p><textarea id="output" rows="10" cols="" readonly></textarea></p>

    <p><button onclick="copyToClipboard()">Copiar</button></p>


    <script>

const form = document.getElementById("myForm");
const outputBox = document.getElementById("output");

form.addEventListener("input", updateOutput);

function updateOutput() {
    let local = document.getElementById("local").value;
    local = local.toUpperCase();
    let horarioChamado = document.getElementById("horarioChamado").value;
    const horarioInicio = document.getElementById("horarioInicio").value;
    const horarioTermino = document.getElementById("horarioTermino").value;
    let fato = document.getElementById("fato").value;
    fato = fato.charAt(0).toUpperCase() + fato.slice(1) + ".";
    let causa = document.getElementById("causa").value;
    causa = causa.charAt(0).toUpperCase() + causa.slice(1) + ".";
    let acao = document.getElementById("acao").value;
    acao = acao.charAt(0).toUpperCase() + acao.slice(1) + ".";
    let obs = document.getElementById("obs").value;
    obs = obs.charAt(0).toUpperCase() + obs.slice(1) + ".";

    const combinedText = `*LOCAL: * ${local}\n\n*CHAMADO: * ${horarioChamado}\n*INÍCIO: * ${horarioInicio}\n*TÉRMINO: * ${horarioTermino}\n\n*FATO: * ${fato}\n\n*CAUSA: * ${causa}\n\n*AÇÃO: * ${acao}\n\n*OBS: * ${obs}`;
    outputBox.value = combinedText;
}

function copyToClipboard() {
    outputBox.select();
    document.execCommand("copy");
    // Optionally, provide user feedback (e.g., alert or message)
    
    // Show a success message (toast) for 0.5 seconds
    const successMessage = document.createElement("div");
    successMessage.textContent = "Copiado com sucesso!";
    successMessage.classList.add("toast"); // Apply CSS styling for the toast
    
    document.body.appendChild(successMessage); // Add the toast to the DOM
    
    setTimeout(() => {
        document.body.removeChild(successMessage); // Remove the toast after 1.5 seconds
    }, 1500);

}

    </script>
</body>
</html>